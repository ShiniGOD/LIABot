<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Bot Indonesia</title>
    <style>
        /* Gaya CSS tetap sama */
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-messages" id="chat-messages">
            <div class="message bot-message">Halo! Ada yang bisa saya bantu?</div>
        </div>
        <div class="typing-indicator" id="typing-indicator">
            Bot sedang mengetik...
        </div>
        <div class="chat-input">
            <input type="text" id="user-input" placeholder="Ketik pesan Anda...">
            <button id="send-btn">Kirim</button>
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');
        const typingIndicator = document.getElementById('typing-indicator');

        // Respons dalam Bahasa Indonesia
        const responseGroups = [
            {
                triggers: ['halo', 'hai', 'hei', 'yo', 'p', 'hallo'],
                responses: [
                    "Halo! Ada yang bisa saya bantu? 👋",
                    "Hai! Apa kabar?",
                    "Hei! Ada yang mau ditanyakan?",
                    "Yo! Apa yang terjadi?",
                    "Halo! Senang berbicara denganmu 😊",
                    "Hai! Bagaimana harimu?"
                ]
            },
            {
                triggers: ['dadah', 'selamat tinggal', 'sampai jumpa', 'bye', 'daa'],
                responses: [
                    "Sampai jumpa! Semoga harimu menyenangkan 🐊",
                    "Dadah! Jangan lupa tersenyum hari ini 😊",
                    "Sampai bertemu lagi! ✌️",
                    "Selamat tinggal! Jaga kesehatan ya!",
                    "Dadah! Semoga hari mu menyenangkan!"
                ]
            },
            {
                triggers: ['terima kasih', 'makasih', 'thanks', 'trims'],
                responses: [
                    "Sama-sama! 😊",
                    "Senang bisa membantu!",
                    "Jangan sungkan untuk bertanya lagi!",
                    "Siap! Kalau ada apa-apa, hubungi saya lagi 😇",
                    "Dengan senang hati! 😄"
                ]
            },
            {
                triggers: ['apa kabar', 'how are you', 'gimana kabarmu'],
                responses: [
                    "Saya hanya bot, tapi baik-baik saja! 🤖",
                    "Saya selalu siap membantu Anda! 💻",
                    "Program saya berjalan dengan lancar! 🚀",
                    "Sehat selalu karena diisi listrik! ⚡",
                    "Saya tidak punya perasaan, tapi terima kasih sudah bertanya 😊"
                ]
            },
            {
                triggers: ['lucu', 'haha', 'wkwk', 'ngakak'],
                responses: [
                    "Wah, ternyata saya bisa melucu juga! 😄",
                    "Hahaha, senang bisa menghiburmu!",
                    "WKWKWK 😁",
                    "Jangan ketawa terlalu keras nanti sakit perut lho!",
                    "Saya juga suka bercanda! 😎"
                ]
            }
        ];

        const defaultResponses = [
            "Maaf, saya tidak mengerti. Bisakah Anda mengulanginya?",
            "Bisa dijelaskan dengan cara lain?",
            "Wah, saya belum paham nih. Coba tanya hal lain?",
            "Sepertinya saya perlu belajar lebih banyak. Ada pertanyaan lain?",
            "Mohon maaf, bisa diperjelas maksudnya?",
            "Saya masih belajar. Bisa pakai kata yang lebih sederhana?"
        ];

        // Fungsi lainnya tetap sama
        function addMessage(message, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
            messageDiv.textContent = message;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function getBotResponse(userMessage) {
            const cleanMessage = userMessage.toLowerCase().replace(/[^a-z]/g, ' ');
            
            return responseGroups.find(group => 
                group.triggers.some(trigger => 
                    cleanMessage.includes(trigger)
                )
            )?.responses[Math.floor(Math.random() * group.responses.length)] 
            || defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        async function handleUserInput() {
            const message = userInput.value.trim();
            if (!message) return;
            
            addMessage(message, true);
            userInput.value = '';
            
            typingIndicator.style.display = 'block';
            
            await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 700));
            
            typingIndicator.style.display = 'none';
            const response = getBotResponse(message);
            addMessage(response);
        }

        sendBtn.addEventListener('click', handleUserInput);
        userInput.addEventListener('keypress', e => e.key === 'Enter' && handleUserInput());

        // Pesan awal
        setTimeout(() => addMessage("Tips: Coba ucapkan 'halo' atau 'apa kabar'! 😊"), 500);
    </script>
</body>
</html>
